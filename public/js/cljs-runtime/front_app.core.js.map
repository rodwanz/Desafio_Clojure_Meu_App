{"version":3,"sources":["front_app/core.cljs"],"mappings":"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","names":["js/front-app","js/front-app.core","js/front-app.core.app-state","front-app.core/app-state","reagent.core.atom","front-app.core/add-item","map__11920","cljs.core/deref","cljs.core/--destructure-map","cljs.core.get","author","book","and__5000__auto__","cljs.core/not-empty","js/fetch","cljs.core/clj->js","js/JSON.stringify","p1__11918#","response","js/console.log","p1__11919#","js/console.error","cljs.core.swap_BANG_","cljs.core/assoc","front-app.core/reset","cljs.core/reset!","front-app.core/app","map__11923","p1__11921#","p1__11922#","items","iter__5480__auto__","s__11925","cljs.core/LazySeq","temp__5804__auto__","cljs.core/seq","cljs.core/chunked-seq?","c__5478__auto__","size__5479__auto__","cljs.core/count","b__11927","cljs.core/chunk-buffer","i__11926","map__11928","cljs.core/-nth","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__11924","cljs.core/chunk-rest","map__11929","cljs.core/first","cljs.core/cons","cljs.core/rest","front-app.core/start","reagent.dom.render","js/document","front-app.core/init","cljs.core/chunk-first"],"sourcesContent":["(ns front-app.core\r\n  (:require [reagent.core :as r]\r\n            [reagent.dom :as rdom]))\r\n\r\n(defonce app-state (r/atom {:author \"\"\r\n                            :book \"\"\r\n                            :items []}))\r\n\r\n(defn add-item []\r\n      (let [{:keys [author book]} @app-state]\r\n           (when (and (not-empty author) (not-empty book))\r\n                 (-> (js/fetch \"http://localhost:9999/posting-in-database\"\r\n                               (clj->js\r\n                                 {:method \"POST\"\r\n                                  :headers {\"Content-Type\" \"application/json\"}\r\n                                  :body (js/JSON.stringify\r\n                                          #js {:name author\r\n                                               :book book})}))\r\n                     (.then #(.-json %))\r\n                     (.then (fn [response]\r\n                                (js/console.log \"Saved in backend:\" response)))\r\n                     (.catch #(js/console.error \"Error:\" %)))\r\n                 (swap! app-state assoc :author \"\" :book \"\"))))\r\n\r\n\r\n(defn reset []\r\n      (reset! app-state {:author \"\" :book \"\" :items []}))\r\n\r\n(defn app []\r\n      (let [{:keys [author book items]} @app-state]\r\n           [:div\r\n            [:h2 \"Book Registration\"]\r\n            [:input {:type \"text\"\r\n                     :placeholder \"Author\"\r\n                     :value author\r\n                     :on-change #(swap! app-state assoc :author (.. % -target -value))}]\r\n            [:input {:type \"text\"\r\n                     :placeholder \"Book\"\r\n                     :value book\r\n                     :on-change #(swap! app-state assoc :book (.. % -target -value))}]\r\n            [:div\r\n             [:button {:on-click add-item} \"Add\"]\r\n             [:button {:on-click reset\r\n                       :style {:background-color \"#dc3545\"}} \"Reset\"]]\r\n            [:ul\r\n             (for [{:keys [author book]} items]\r\n                  ^{:key (str author book)}\r\n                  [:li (str author \" - \" book)])]]))\r\n\r\n(defn ^:dev/after-load start []\r\n      (rdom/render [app] (.getElementById js/document \"app\")))\r\n\r\n(defn init []\r\n      (start))\r\n"]}